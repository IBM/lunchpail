apiVersion: codeflare.dev/v1alpha1
kind: Application
metadata:
  name: test7f-workdispatcher
  namespace: {{ .Values.namespace.user }}
spec:
  api: shell
  role: dispatcher
  command: ./src/main.sh
  image: {{ print .Values.global.image.registry "/" .Values.global.image.repo "/jaas-s3-syncer-component:" .Values.global.image.version }}
  env:
    METHOD: parametersweep
    SWEEP_MIN: '1'
    SWEEP_MAX: '10'
    SWEEP_STEP: '1'
    taskprefix: tasky
    taskprefix2: "3333"
  code: |
{{ .Files.Get "src/main.sh" | indent 4 }}
