{{ if and (not .Values.lite) (or (not .Values.app) (eq .Values.app "tests") (eq .Values.app "hapq")) }}
apiVersion: codeflare.dev/v1alpha1
kind: WorkerPool
metadata:
  name: hapq-pool1
  namespace: codeflare-watsonxai-preprocessing
spec:
  run:
    name: hapq
  workers:
    count: 1
    supportsGpu: {{ .Values.supportsGpu | default false }}
    {{- if .Values.supportsGpu }}
    size: md
    {{- else }}
    size: xxs
    {{- end }}
{{- end }}
