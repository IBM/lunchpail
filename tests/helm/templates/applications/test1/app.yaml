{{ if or (not .Values.app) (eq .Values.app "tests") (eq .Values.app "test1") }}
apiVersion: codeflare.dev/v1alpha1
kind: Application
metadata:
  name: test1
  namespace: {{ .Values.namespace.user }}
spec:
  api: torch
  image: ghcr.io/lunchpail/lightning:0.0.7
#  repo: https://github.ibm.com/cloud-computer/codeflare-platform/tree/main/tests/helm/templates/applications/test1
  repo: https://github.ibm.com/nickm/codeflare-platform/tree/shrinkwrap-app-from-git/tests/helm/templates/applications/test1
  command: python3 src/main.py
  inputs:
    - sizes:
        xs: test-dataset-s3
{{- end }}
