---
# Source: codeflare-platform/charts/codeflare-examples/templates/namespace.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: codeflare-examples
---
# Source: codeflare-platform/charts/codeflare-examples/templates/applications/workqueue/queue-example/dataset-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: queue-example-cfsecret # avoid dashes for now: https://github.com/datashim-io/datashim/issues/285
  namespace: codeflare-examples
type: Opaque
data:
  accessKeyID: Y29kZWZsYXJleQ==
  secretAccessKey: Y29kZWZsYXJleQ==
---
# Source: codeflare-platform/charts/codeflare-examples/templates/applications/workqueue/queue-example/README.md
# Application api=workqueue
---
# Source: codeflare-platform/charts/codeflare-examples/templates/applications/workqueue/queue-example/app.yaml
apiVersion: codeflare.dev/v1alpha1
kind: Application
metadata:
  name: queue-example
  namespace: codeflare-examples
spec:
  api: workqueue
  image: ghcr.io/project-codeflare/codeflare-workerpool-worker-alpine-component:dev
  repo: https://github.ibm.com/cloud-computer/codeflare-platform/tree/main/platform/charts/examples/applications/workqueue/queue-example
  command: /opt/codeflare/worker/bin/watcher.sh ./main.sh
  description: A simple example of a workqueue-style application.
  inputs:
    - sizes:
        lg: queueexample
---
# Source: codeflare-platform/charts/codeflare-examples/templates/applications/workqueue/queue-example/dataset.yaml
apiVersion: com.ie.ibm.hpsys/v1alpha1
kind: Dataset
metadata:
  name: queueexample # avoid dashes for now: https://github.com/datashim-io/datashim/issues/285
  namespace: codeflare-examples
spec:
  local:
    type: "COS"
    bucket: queue-example
    endpoint: "http://codeflare-s3.codeflare-system.svc.cluster.local:9000"
    secret-name: queue-example-cfsecret
    secret-namespace: codeflare-examples
    #readonly: "true" # default is false
    provision: "true"
---
# Source: codeflare-platform/charts/codeflare-examples/templates/applications/workqueue/queue-example/run.yaml
apiVersion: codeflare.dev/v1alpha1
kind: Run
metadata:
  name: queue-example
  namespace: codeflare-examples
spec:
  application:
    name: queue-example
