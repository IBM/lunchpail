$size: 1rem;
$label-size: 0.5625rem;

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.codeflare-workqueues {
  line-height: #{$size * 1.125};
}

.codeflare--dashboard {
  --codeflare-cell-color-none: #d2d2d2;
}

.codeflare--grid-cell {
  width: $size;
  height: $size;
  border-radius: 1px / 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 70ms ease-in-out;

  span {
    color: white;
    display: flex;
    font-size: $label-size;
    mix-blend-mode: overlay;
    /*animation: spin 4s linear infinite;*/
  }

  // Colors dataset 0's stacks of GridCells
  &[data-dataset="0"][data-depth="1"] {
    --cell-color: #084594;
  }
  &[data-dataset="0"][data-depth="10"] {
    --cell-color: #2171b5;
  }
  &[data-dataset="0"][data-depth="100"] {
    --cell-color: #4292c6;
  }
  &[data-dataset="0"][data-depth="1000"] {
    --cell-color: #6baed6;
  }
  // Colors dataset 1's stacks of GridCells
  &[data-dataset="1"][data-depth="1"] {
    --cell-color: #4a1486;
  }
  &[data-dataset="1"][data-depth="10"] {
    --cell-color: #6a51a3;
  }
  &[data-dataset="1"][data-depth="100"] {
    --cell-color: #807dba;
  }
  &[data-dataset="1"][data-depth="1000"] {
    --cell-color: #9e9ac8;
  }
  // Colors dataset 2's stacks of GridCells
  &[data-dataset="2"][data-depth="1"] {
    --cell-color: #005a32;
  }
  &[data-dataset="2"][data-depth="10"] {
    --cell-color: #238b45;
  }
  &[data-dataset="2"][data-depth="100"] {
    --cell-color: #41ab5d;
  }
  &[data-dataset="2"][data-depth="1000"] {
    --cell-color: #74c476;
  }
  // Colors dataset 3's stacks of GridCells
  &[data-dataset="3"][data-depth="1"] {
    --cell-color: #8c2d04;
  }
  &[data-dataset="3"][data-depth="10"] {
    --cell-color: #d94801;
  }
  &[data-dataset="3"][data-depth="100"] {
    --cell-color: #f16913;
  }
  &[data-dataset="3"][data-depth="1000"] {
    --cell-color: #fd8d3c;
  }
  // Colors dataset 4's stacks of GridCells
  &[data-dataset="4"][data-depth="1"] {
    --cell-color: #252525;
  }
  &[data-dataset="4"][data-depth="10"] {
    --cell-color: #525252;
  }
  &[data-dataset="4"][data-depth="100"] {
    --cell-color: #737373;
  }
  &[data-dataset="4"][data-depth="1000"] {
    --cell-color: #969696;
  }
  &[data-type="waiting"] {
    --cell-color: #d2d2d2;
  }
  &[data-type="placeholder"] {
    --cell-color: transparent;

    &,
    &:hover {
      cursor: unset;
      outline: none;
    }

    /** This gives an X inside the cell */
    &:before
    /*&:after*/ {
      position: absolute;
      content: " ";
      height: 0.7 * $size;
      width: 2px;
      background-color: var(--pf-v5-global--BorderColor--100);
    }
    &:before {
      transform: rotate(90deg);
    }
    &:after {
      transform: rotate(-45deg);
    }
  }

  & {
    background-color: var(--cell-color);
  }

  &[data-type="inbox"],
  &[data-type="outbox"] {
    filter: grayscale(0.05) opacity(0.9);
  }
  &[data-type="processing"] {
    filter: saturate(1.5);
  }

  &:hover {
    cursor: pointer;
    outline: 2px solid var(--pf-v5-global--Color--100);
    outline-offset: -1px;
  }
}

html.pf-v5-theme-dark {
  .codeflare--grid-cell {
    &[data-type="worker"] {
      background-color: var(--pf-v5-global--palette--light-blue-100);
    }
  }
}
