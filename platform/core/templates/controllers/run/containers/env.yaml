{{- define "env" }}
- name: IMAGE_REGISTRY
  value: {{ .Values.global.image.registry }}
- name: IMAGE_REPO
  value: {{ .Values.global.image.repo }}
- name: IMAGE_VERSION
  value: {{ .Values.global.image.version }}
- name: CONTROL_PLANE_CONTEXT
  value: {{ .Values.global.jaas.context.name }}
- name: WORKDIR
  value: /workdir
- name: WORKDIR_PVC
  value: workdir
{{- if .Values.global.jaas.gangScheduling }}
- name: JAAS_USE_GANG_SCHEDULING
  value: 1
{{- end }}
- name: DOCKER_HOST
  value: {{ .Values.global.dockerHost | default "host.docker.internal" }}
- name: INTERNAL_S3_ENDPOINT
  value: {{ .Values.global.s3Endpoint }}
- name: INTERNAL_S3_ACCESSKEY
  value: {{ .Values.global.s3AccessKey }}
- name: INTERNAL_S3_SECRETKEY
  value: {{ .Values.global.s3SecretKey }}
- name: USER_SERVICE_ACCOUNT
  value: {{ .Values.global.rbac.serviceaccount }}
- name: USER_IMAGE_PULL_SECRET
  value: {{ .Values.global.jaas.ips }}
- name: RUN_AS_ROOT
  value: {{ .Values.global.rbac.runAsRoot | quote }}
{{- end }}
